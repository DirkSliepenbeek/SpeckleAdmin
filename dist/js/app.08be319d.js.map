{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/EditableSpan.vue?3c7b","webpack:///./src/components/NavDrawer.vue?8359","webpack:///./src/App.vue?4311","webpack:///./src/components/NavDrawer.vue?7cf3","webpack:///src/components/NavDrawer.vue","webpack:///./src/components/NavDrawer.vue?75a6","webpack:///./src/components/NavDrawer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/store.js","webpack:///./src/router.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/components/EditableSpan.vue?a477","webpack:///src/components/EditableSpan.vue","webpack:///./src/components/EditableSpan.vue?872a","webpack:///./src/components/EditableSpan.vue","webpack:///./src/main.js","webpack:///./src/App.vue?926f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","app","jsonpScriptSrc","p","chunk-072a2a38","chunk-24783ee0","chunk-48fa10d6","chunk-5909aef1","chunk-65d6cff6","chunk-684879ab","chunk-c45573d2","chunk-27c9975c","chunk-2d0af48a","chunk-28f8f935","chunk-4500f9ac","chunk-51ce7c0c","chunk-6b142b2b","chunk-d986601a","chunk-e867bd68","chunk-5569e0be","chunk-3176e668","chunk-3c1c16bc","chunk-2ae050aa","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditableSpan_vue_vue_type_style_index_0_id_536ceca2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditableSpan_vue_vue_type_style_index_0_id_536ceca2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavDrawer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavDrawer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_241ca0e4_render","_vm","this","_h","$createElement","_c","_self","attrs","dark","staticClass","floating","model","callback","$$v","drawer","expression","scopedSlots","_u","fn","ref","hover","class","flat","prominent","xxxstyle","staticStyle","color","text-decoration","_v","on","click","$event","stopPropagation","_s","$route","path","includes","small","round","nativeOn","toggleControlsViewer","$store","state","viewerControls","_e","logout","icon","toggleDark","exclude","staticRenderFns","NavDrawervue_type_template_id_5e055a8e_render","two-line","to","user","role","serverManifest","serverName","server","three-line","NavDrawervue_type_template_id_5e055a8e_staticRenderFns","NavDrawervue_type_script_lang_js_","components_NavDrawervue_type_script_lang_js_","component","componentNormalizer","options","__file","NavDrawer","Appvue_type_script_lang_js_","components","_","methods","localStorage","setItem","dispatch","$router","commit","created","isAuth","getItem","updated","overlay","getElementsByClassName","onclick","showSidebar","src_Appvue_type_script_lang_js_","App_component","App","removeArraysRecursive","foo","bar","is_array_default","esm_typeof","getStructuralArrPropKeys","concat","Vue","use","Vuex","store","Store","token","streams","deStreams","clients","projects","comments","users","loadedStreamIds","objects","legend","selectedObjects","myClient","getters","streamClients","streamId","filter","filteredStreams","filters","base","stream","parent","deleted","forEach","query","toLowerCase","private","toString","myTags","split","map","streamTags","tags","every","owner","_id","objectPropertyKeys","keySet","set_default","a","stringKeySet","obj","properties","flatProps","flatten","add","keySets","allKeys","toConsumableArray","sort","b","stringKeys","hasStructuralProperties","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","structural","_unused","return","structuralKeys","keys","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","props","_unused2","mutations","SET_DARK","TOGGLE_VIEWER_CONTROLS","ADD_STREAMS","findIndex","x","description","unshift","UPDATE_STREAM","found","find","keys_default","updatedAt","Date","toISOString","UPDATE_STREAM_DATA","layers","DELETE_STREAM","index","log","ADD_CLIENTS","client","ADD_DE_STREAM","ADD_DE_STREAM_LAYER","newLayer","orderIndex","startIndex","objectCount","topology","guid","uuid","UPDATE_DE_STREAM_LAYER","_ref","layer","surpassed","objectCountDifference","iterLayer","_found$objects","REMOVE_DE_STREAM_LAYER","_ref2","APPEND_DE_STREAM_LAYERS_FROM_CSV","_ref3","transposed","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_found$objects2","arr","noHeader","val","k","ADD_PROJECTS","project","UPDATE_PROJECT","DELETE_PROJECT","ADD_USER","u","ADD_USERS","UPDATE_LUSER","SET_SERVER","SET_SERVER_DETAILS","SET_TOKEN","SET_USER","SET_WEB_APP_CLIENT","FLUSH_ALL","ADD_LOADED_STREAMID","REMOVE_LOADED_STREAMID","indexOf","warn","ADD_OBJECTS","_state$objects","UPDATE_OBJECTS_STREAMS","_ref4","objIds","streamToAdd","streamToRemove","id","myObject","REMOVE_OBJECTS","objectIds","SET_SELECTED_OBJECTS","_ref5","ADD_SELECTED_OBJECTS","_ref6","REMOVE_SELECTED_OBJECTS","_ref7","SET_LEGEND","actions","getStream","context","promise_default","Axios","res","resource","catch","refreshStream","getStreams","resources","createStream","post","onlineEditable","put","updateStream","updateStreamObjectsAndLayers","_ref8","commitMessage","surname","lastChangedBy","originalStream","children","clone","getStreamClients","deleteStream","payload","delete","getStreamObjects","ids","getObjects","getProject","getProjects","createProject","updateProject","addUserToProject","_ref9","projectId","userId","permissions","canWrite","canRead","myStream","uniq","upgradeUserInProject","_ref10","downgradeUserInProject","_ref11","streamsToAddReadAndPullWrite","streamsToAddToRead","removeUserInProject","_ref12","streamsToPullBothFrom","streamsToPullWriteFrom","streamsToPullReadFrom","addStreamToProject","_ref13","removeStreamFromProject","_ref14","deleteProject","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","modifiedStreams","createClient","defaults","headers","common","documentName","documentType","online","getUser","updateLoggedInUser","login","email","password","removeItem","Router","myRouter","linkExactActiveClass","routes","meta","requiresAuth","beforeEach","from","btoa","register","process","ready","registered","cached","updatefound","offline","EditableSpanvue_type_template_id_536ceca2_scoped_true_render","title","hint","contenteditable","disabled","domProps","innerHTML","getContent","blur","updateOnBlur","keydown","_k","keyCode","updateOnEnter","EditableSpanvue_type_template_id_536ceca2_scoped_true_staticRenderFns","EditableSpanvue_type_script_lang_js_","text","String","default","Boolean","dataKey","computed","innerText","replace","newContent","$emit","components_EditableSpanvue_type_script_lang_js_","EditableSpan_component","EditableSpan","config","productionTip","Vuetify","theme","primary","colors","blue","darken1","secondary","lighten4","accent","indigo","VueTimeago","locale","location","origin","baseURL","response","Authorization","status","initApp","$http","bus","ColorHasher","CH","mixin","getHexFromString","str","hex","router","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.08be319d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-072a2a38\":\"7bebaae7\",\"chunk-24783ee0\":\"86809dc9\",\"chunk-48fa10d6\":\"3d79e14f\",\"chunk-5909aef1\":\"668bf232\",\"chunk-65d6cff6\":\"d969b430\",\"chunk-684879ab\":\"3f6ea256\",\"chunk-c45573d2\":\"3dc5327e\",\"chunk-27c9975c\":\"70a60a28\",\"chunk-2d0af48a\":\"c514bf00\",\"chunk-28f8f935\":\"8ff165d5\",\"chunk-4500f9ac\":\"1bc878e6\",\"chunk-51ce7c0c\":\"727f45bd\",\"chunk-6b142b2b\":\"c9b6f680\",\"chunk-d986601a\":\"072957d8\",\"chunk-e867bd68\":\"dfc54724\",\"chunk-5569e0be\":\"c4f30bd8\",\"chunk-3176e668\":\"29d225ae\",\"chunk-3c1c16bc\":\"b5f5ca9a\",\"chunk-2ae050aa\":\"f9fb1d4a\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-072a2a38\":1,\"chunk-24783ee0\":1,\"chunk-48fa10d6\":1,\"chunk-5909aef1\":1,\"chunk-65d6cff6\":1,\"chunk-684879ab\":1,\"chunk-27c9975c\":1,\"chunk-28f8f935\":1,\"chunk-4500f9ac\":1,\"chunk-51ce7c0c\":1,\"chunk-6b142b2b\":1,\"chunk-d986601a\":1,\"chunk-e867bd68\":1,\"chunk-5569e0be\":1,\"chunk-3176e668\":1,\"chunk-3c1c16bc\":1,\"chunk-2ae050aa\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-072a2a38\":\"0e433876\",\"chunk-24783ee0\":\"8b5fefc0\",\"chunk-48fa10d6\":\"0e433876\",\"chunk-5909aef1\":\"0e433876\",\"chunk-65d6cff6\":\"0e433876\",\"chunk-684879ab\":\"0e433876\",\"chunk-c45573d2\":\"31d6cfe0\",\"chunk-27c9975c\":\"4d790ebf\",\"chunk-2d0af48a\":\"31d6cfe0\",\"chunk-28f8f935\":\"fe395cc8\",\"chunk-4500f9ac\":\"8b5fefc0\",\"chunk-51ce7c0c\":\"aefcbcd3\",\"chunk-6b142b2b\":\"8b5fefc0\",\"chunk-d986601a\":\"b78db504\",\"chunk-e867bd68\":\"052f0bfc\",\"chunk-5569e0be\":\"0f8b769d\",\"chunk-3176e668\":\"93ff9eba\",\"chunk-3c1c16bc\":\"5ed80578\",\"chunk-2ae050aa\":\"c7165aa4\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=style&index=0&id=536ceca2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=style&index=0&id=536ceca2&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":_vm.dark}},[_c('v-navigation-drawer',{staticClass:\"elevation-5\",attrs:{\"floating\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn _c('v-toolbar',{class:(\"elevation-\" + (hover ? 20 : 0) + \" \" + (_vm.dark ? \"royal-bg\" : \"light-bg\")),attrs:{\"flat\":\"\",\"prominent\":\"\",\"dark\":\"\",\"xxxstyle\":\"position: absolute; bottom:0\"}},[_c('div',{staticClass:\"text-uppercase caption ml-0\"},[_c('a',{staticStyle:{\"color\":\"white\",\"text-decoration\":\"none\"},attrs:{\"href\":\"https://speckle.works\",\"target\":\"_blank\"}},[_c('b',[_vm._v(\"Speckle\")]),_vm._v(\",\\n            \"),_c('span',{staticClass:\"font-weight-light caption\"},[_vm._v(\"the open source data platform for AEC.\")])])])])}}])}),_c('nav-drawer')],1),_c('v-toolbar',{attrs:{\"app\":\"\",\"flat\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_c('v-toolbar-title',{staticClass:\"text-uppercase font-weight-light\"},[_vm._v(_vm._s(_vm.$route.name))]),(_vm.$route.path.includes(\"view\"))?_c('div',{staticClass:\"mt-1\"},[_c('v-btn',{attrs:{\"small\":\"\",\"round\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleControlsViewer($event)}}},[_vm._v(_vm._s(_vm.$store.state.viewerControls ? \"close\" :\"show\")+\" controls\")])],1):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"\\n      Logout\\n    \")]),_c('v-btn',{attrs:{\"flat\":\"\",\"small\":\"\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleDark()}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"wb_sunny\")])],1)],1),_c('v-content',[_c('keep-alive',{attrs:{\"exclude\":\"StreamDetailView\"}},[_c('router-view')],1)],1),_c('div',{staticClass:\"tooltipOwner\"}),_c('div',{staticClass:\"tooltipDoc\"}),_c('div',{staticClass:\"tooltip\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$store.state.isAuth)?_c('v-list',{staticClass:\"pa-0\",attrs:{\"two-line\":\"\"}},[_c('v-list-tile',{attrs:{\"to\":\"/\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"home\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Home\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Everything at a glance.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/streams\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"import_export\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Streams\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Create and manage your streams.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/projects\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"business\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Projects\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Group your data and share it with others.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/trash\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"delete_outline\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Archive\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"The good old recycle bin.\")])],1)],1),(_vm.$store.state.user.role===\"admin\")?_c('v-list-tile',[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"settings\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Admin\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Server administration (TODO)\")])],1)],1):_vm._e(),_c('v-divider',{staticClass:\"ma-3\"}),_c('v-list-tile',{attrs:{\"to\":\"/view\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"360\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Viewer\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"View Things! In Dimensions! With 3D!\")])],1)],1),_c('v-divider',{staticClass:\"ma-3\"})],1):_vm._e(),(_vm.$store.state.isAuth)?_c('v-list',[_c('v-list-tile',{attrs:{\"to\":\"/profile\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"face\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Profile\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/plugins\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"category\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Plugins\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/feedback\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"feedback\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Feedback\")])],1)],1),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"developer_board\")])],1),_c('v-list-tile-content',[_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"You're connected at \"+_vm._s(_vm.$store.state.serverManifest.serverName)),_c('br'),_vm._v(_vm._s(_vm.$store.state.server))])],1)],1)],1):_c('v-list',{attrs:{\"three-line\":\"\"}},[_c('v-list-tile',{attrs:{\"to\":\"/login\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"face\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Login\")]),_c('v-list-tile-sub-title',[_vm._v(\"If you already have an account, login here!\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/register\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Register\")]),_c('v-list-tile-sub-title',[_vm._v(\"If you don't have an account, create one here!\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-list v-if='$store.state.isAuth' two-line class='pa-0'>\r\n      <v-list-tile to='/'>\r\n        <v-list-tile-action>\r\n          <v-icon>home</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Home</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Everything at a glance.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/streams'>\r\n        <v-list-tile-action>\r\n          <v-icon>import_export</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Streams</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Create and manage your streams.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/projects'>\r\n        <v-list-tile-action>\r\n          <v-icon>business</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Projects</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Group your data and share it with others.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/trash'>\r\n        <v-list-tile-action>\r\n          <v-icon>delete_outline</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Archive</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>The good old recycle bin.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile v-if='$store.state.user.role===\"admin\"'>\r\n        <v-list-tile-action>\r\n          <v-icon>settings</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Admin</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Server administration (TODO)</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-divider class='ma-3'></v-divider>\r\n      <v-list-tile to='/view'>\r\n        <v-list-tile-action>\r\n          <v-icon>360</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Viewer</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>View Things! In Dimensions! With 3D!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-divider class='ma-3'></v-divider>\r\n    </v-list>\r\n    <v-list v-if='$store.state.isAuth'>\r\n      <v-list-tile to='/profile'>\r\n        <v-list-tile-action>\r\n          <v-icon>face</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Profile</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/plugins'>\r\n        <v-list-tile-action>\r\n          <v-icon>category</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Plugins</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/feedback'>\r\n        <v-list-tile-action>\r\n          <v-icon>feedback</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Feedback</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile>\r\n        <v-list-tile-action>\r\n          <v-icon>developer_board</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>You're connected at {{$store.state.serverManifest.serverName}}<br>{{$store.state.server}}</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n    </v-list>\r\n    <v-list v-else three-line>\r\n      <v-list-tile to='/login'>\r\n        <v-list-tile-action>\r\n          <v-icon>face</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Login</v-list-tile-title>\r\n          <v-list-tile-sub-title>If you already have an account, login here!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/register'>\r\n        <v-list-tile-action>\r\n          <v-icon>add</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Register</v-list-tile-title>\r\n          <v-list-tile-sub-title>If you don't have an account, create one here!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n    </v-list>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'SiteNavigation'\r\n}\r\n\r\n</script>\r\n<style lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavDrawer.vue?vue&type=template&id=5e055a8e&\"\nimport script from \"./NavDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavDrawer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"NavDrawer.vue\"\nexport default component.exports","<template>\r\n  <v-app :dark='dark'>\r\n    <v-navigation-drawer floating app class='elevation-5' v-model='drawer'>\r\n      <v-hover>\r\n        <v-toolbar slot-scope=\"{ hover }\" flat prominent :class='`elevation-${hover ? 20 : 0} ${dark ? \"royal-bg\" : \"light-bg\" }`' dark xxxstyle='position: absolute; bottom:0'>\r\n          <div class='text-uppercase caption ml-0'>\r\n            <a href='https://speckle.works' target=\"_blank\" style=\"color:white; text-decoration: none;\"><b>Speckle</b>,\r\n              <span class='font-weight-light caption'>the open source data platform for AEC.</span></a>\r\n          </div>\r\n        </v-toolbar>\r\n      </v-hover>\r\n      <nav-drawer></nav-drawer>\r\n    </v-navigation-drawer>\r\n    <v-toolbar app flat class=''>\r\n      <v-toolbar-side-icon @click.stop=\"drawer = !drawer\"></v-toolbar-side-icon>\r\n      <v-toolbar-title class='text-uppercase font-weight-light'>{{$route.name}}</v-toolbar-title>\r\n      <div v-if='$route.path.includes(\"view\")' class='mt-1'>\r\n        <v-btn small round flat @click.native='toggleControlsViewer'>{{$store.state.viewerControls ? \"close\" :\"show\"}} controls</v-btn>\r\n      </div>\r\n      <v-spacer></v-spacer>\r\n      <v-btn small flat @click.native='logout()'>\r\n        Logout\r\n      </v-btn>\r\n      <v-btn flat small icon @click.native='toggleDark()'>\r\n        <v-icon small>wb_sunny</v-icon>\r\n      </v-btn>\r\n    </v-toolbar>\r\n    <v-content>\r\n      <!-- <v-container fluid> -->\r\n      <keep-alive exclude='StreamDetailView'>\r\n        <router-view></router-view>\r\n      </keep-alive>\r\n      <!-- </v-container> -->\r\n    </v-content>\r\n    <!-- telated to the client graph -->\r\n    <div class=\"tooltipOwner\"></div>\r\n    <div class=\"tooltipDoc\"></div>\r\n    <div class=\"tooltip\"></div>\r\n\r\n  </v-app>\r\n</template>\r\n<script>\r\nimport NavDrawer from './components/NavDrawer.vue'\r\n\r\nexport default {\r\n  name: 'MainApp',\r\n  components: {\r\n    NavDrawer\r\n  },\r\n  data: _ => ( {\r\n    drawer: true,\r\n    dark: false,\r\n    viewerControls: true\r\n  } ),\r\n  methods: {\r\n    toggleDark( ) {\r\n      this.dark = !this.dark\r\n      localStorage.setItem( 'dark', this.dark )\r\n    },\r\n    logout( ) {\r\n      this.$store.dispatch( 'logout' )\r\n      this.$router.push( '/login' )\r\n    },\r\n    toggleControlsViewer( ) {\r\n      this.$store.commit( 'TOGGLE_VIEWER_CONTROLS' )\r\n    }\r\n  },\r\n  created( ) {\r\n    if ( this.$store.state.isAuth ) {\r\n      this.$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )\r\n      this.$store.dispatch( 'getProjects' )\r\n      this.$store.dispatch( 'createClient' )\r\n    }\r\n    if ( localStorage.getItem( 'dark' ) === 'true' ) {\r\n      this.dark = true\r\n      this.$store.commit( 'SET_DARK', true )\r\n    }\r\n\r\n  },\r\n  updated( ) {\r\n    let overlay = document.getElementsByClassName( \"md-overlay\" )[ 0 ]\r\n    if ( !overlay ) return\r\n    overlay.onclick = ( function ( ) {\r\n      this.showSidebar = false\r\n    } ).bind( this )\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n<style lang='scss'>\r\n.super-bg {\r\n  background: #448aff;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #448aff, #396afc);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #448aff, #396afc);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.other-bg {\r\n  background: #0052D4;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #6FB1FC, #4364F7, #0052D4);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #6FB1FC, #4364F7, #0052D4);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.royal-bg {\r\n  background: #536976;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #292E49, #536976);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #292E49, #536976);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.light-bg {\r\n  background: #56CCF2;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #2F80ED, #56CCF2);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #2F80ED, #56CCF2);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity .5s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.no-scroll {\r\n  overflow: hidden !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=241ca0e4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport Axios from 'axios'\r\n\r\nimport uniq from 'lodash.uniq'\r\nimport uuid from 'uuid/v4'\r\nimport flatten from 'flat'\r\n\r\nVue.use( Vuex )\r\n\r\nfunction removeArraysRecursive( foo ) {\r\n  let bar = {}\r\n\r\n  for ( let key in foo ) {\r\n    if ( !foo.hasOwnProperty( key ) ) continue\r\n    else if ( Array.isArray( foo[ key ] ) ) {\r\n      //bar[ key + ' (array)' ] = `Array with ${ foo[key].length } elements`\r\n    } else if ( typeof foo[ key ] === 'object' && foo[ key ] !== null ) {\r\n      bar[ key ] = removeArraysRecursive( foo[ key ] )\r\n    } else {\r\n      bar[ key ] = foo[ key ]\r\n    }\r\n  }\r\n  return bar\r\n}\r\n\r\nfunction getStructuralArrPropKeys( foo ) {\r\n  let bar = {}\r\n\r\n  for ( let key in foo ) {\r\n    if ( !foo.hasOwnProperty( key ) ) continue\r\n    else if ( Array.isArray( foo[ key ] ) ) {\r\n      bar[ key ] = `Array with ${ foo[key].length } elements`\r\n    } else if ( typeof foo[ key ] === 'object' && foo[ key ] !== null ) {\r\n      bar[ key ] = getStructuralArrPropKeys( foo[ key ] )\r\n    }\r\n  }\r\n  return bar\r\n}\r\n\r\nexport default new Vuex.Store( {\r\n  state: {\r\n    // The canonical and correct server url, i.e. `https://speckle.server.com/api`\r\n    server: null,\r\n    // The server description\r\n    serverManifest: null,\r\n    token: null,\r\n    user: {},\r\n    isAuth: false,\r\n    // where all the streams and their properties are stored.\r\n    streams: [ ],\r\n    // data editable streams; we store objects and layers in here. rest of metadata\r\n    // is in streams proper array (see above).\r\n    deStreams: [ ],\r\n    // global store for stream clients.\r\n    clients: [ ],\r\n    // global store for projects\r\n    projects: [ ],\r\n    comments: [ ],\r\n    // global store for users. it's dynamically assembled as the end-user moves through\r\n    // the admin ui, and new user profiles need to be requested.\r\n    users: [ ],\r\n    // viewer related\r\n    loadedStreamIds: [ ],\r\n    objects: [ ],\r\n    legend: null,\r\n    selectedObjects: [ ],\r\n    // client (used for ws requests, etc.)\r\n    myClient: null,\r\n    // app dark mode?\r\n    dark: false,\r\n    // toggles viewer controls\r\n    viewerControls: true\r\n  },\r\n  getters: {\r\n    streamClients: ( state ) => ( streamId ) => {\r\n      return state.clients.filter( c => c.streamId === streamId )\r\n    },\r\n    filteredStreams: ( state ) => ( filters ) => {\r\n      let base = state.streams.filter( stream => stream.parent == null && stream.deleted === false )\r\n      if ( !filters || filters.length === 0 ) return base\r\n      filters.forEach( query => {\r\n        query.key = query.key.toLowerCase( )\r\n        if ( query.value === null ) base = base\r\n        else\r\n          switch ( query.key ) {\r\n            case 'private':\r\n              if ( query.value )\r\n                base = base.filter( stream => stream.private.toString( ) === query.value )\r\n              else\r\n                base = base.filter( stream => stream.private === true )\r\n              break\r\n            case 'public':\r\n              if ( query.value )\r\n                base = base.filter( stream => ( !stream.private ).toString( ) === query.value )\r\n              else\r\n                base = base.filter( stream => stream.private === false )\r\n              break\r\n            case 'tag':\r\n            case 'tags':\r\n              let myTags = query.value.split( ',' ).map( t => t.toLowerCase( ) )\r\n              base = base.filter( stream => {\r\n                let streamTags = stream.tags.map( t => t.toLowerCase( ) )\r\n                return myTags.every( t => streamTags.includes( t ) )\r\n              } )\r\n              break\r\n            case 'mine':\r\n              base = base.filter( stream => stream.owner === state.user._id )\r\n              break;\r\n            case 'shared':\r\n              base = base.filter( stream => stream.owner !== state.user._id )\r\n              break;\r\n            case 'name':\r\n              base = base.filter( stream => stream.name ? stream.name.toLowerCase( ).includes( query.value.toLowerCase( ) ) : true )\r\n              break\r\n            case 'streamid':\r\n            case 'id':\r\n              base = base.filter( stream => stream.streamId.toLowerCase( ).includes( query.value.toLowerCase( ) ) )\r\n              break\r\n          }\r\n      } )\r\n      return base\r\n    },\r\n    objectPropertyKeys: ( state ) => {\r\n      let keySet = new Set( )\r\n      let stringKeySet = new Set( )\r\n      state.objects.forEach( obj => {\r\n        if ( !obj.properties ) return\r\n        let flatProps = flatten( removeArraysRecursive( obj.properties ) )\r\n        for ( let key in flatProps ) {\r\n          if ( key === 'hash' || key === 'id' || key.toLowerCase( ).includes( 'hash' ) || key.toLowerCase( ).includes( '_carbon' ) ) continue\r\n          if ( key.includes( '__' ) ) continue\r\n          keySet.add( key )\r\n          if ( typeof flatProps[ key ] === 'string' )\r\n            stringKeySet.add( key )\r\n        }\r\n      } )\r\n      let keySets = {\r\n        allKeys: [ ...keySet ].sort( ( a, b ) => { return a.split( '.' ).length - b.split( '.' ).length } ).sort( ( a, b ) => { return a.length - b.length } ),\r\n        stringKeys: [ ...stringKeySet ].sort( ( a, b ) => { return a.split( '.' ).length - b.split( '.' ).length } ).sort( ( a, b ) => { return a.length - b.length } ),\r\n      }\r\n      return keySets\r\n    },\r\n    // NOTE: this assumes results from GSA\r\n    hasStructuralProperties: ( state ) => {\r\n      for ( let obj of state.objects ) {\r\n        try {\r\n          if ( obj.properties.structural.result !== null )\r\n            return true\r\n        } catch {}\r\n      }\r\n      return false\r\n    },\r\n    // NOTE: this assumes results from GSA\r\n    structuralKeys: ( state ) => {\r\n      let keys = new Set( )\r\n      for ( let obj of state.objects ) {\r\n        try {\r\n          let props = flatten( getStructuralArrPropKeys( obj.properties.structural.result ) )\r\n          for ( let key in props )\r\n            keys.add( key )\r\n        } catch {}\r\n      }\r\n      return [ ...keys ]\r\n    }\r\n  },\r\n  mutations: {\r\n    SET_DARK( state, dark ) {\r\n      state.dark = dark\r\n    },\r\n    TOGGLE_VIEWER_CONTROLS( state ) {\r\n      state.viewerControls = !state.viewerControls\r\n    },\r\n    // Streams\r\n    ADD_STREAMS( state, streams ) {\r\n      streams.forEach( stream => {\r\n        if ( state.streams.findIndex( x => x.streamId === stream.streamId ) === -1 ) {\r\n          // defensive code (vue 3.0 we're off to typescript baby, can't wait)\r\n          if ( !stream.description ) stream.description = '...'\r\n          if ( !stream.tags ) stream.tags = [ ]\r\n          state.streams.unshift( stream )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_STREAM( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( !found ) throw new Error( \"could not find stream.\" )\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    UPDATE_STREAM_DATA( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( props.layers )\r\n        found.layers = props.layers\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n      // console.log('TODO')\r\n    },\r\n    DELETE_STREAM( state, stream ) {\r\n      let index = state.streams.findIndex( s => s.streamId === stream.streamId )\r\n      if ( index > -1 ) {\r\n        state.streams.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove stream ${stream.streamId} from store.` )\r\n    },\r\n\r\n    // Clients\r\n    ADD_CLIENTS( state, clients ) {\r\n      clients.forEach( client => {\r\n        if ( state.clients.findIndex( x => x._id === client._id ) === -1 ) {\r\n          state.clients.push( client )\r\n        }\r\n      } )\r\n    },\r\n\r\n    ADD_DE_STREAM( state, stream ) {\r\n      let found = state.deStreams.find( s => s.streamId === stream )\r\n      if ( !found )\r\n        state.deStreams.push( stream )\r\n      else {\r\n        found.layers = stream.layers\r\n        found.objects = stream.objects\r\n      }\r\n    },\r\n    ADD_DE_STREAM_LAYER( state, stream ) {\r\n      console.log( stream )\r\n      let found = state.deStreams.find( s => s.streamId === stream.streamId )\r\n      let newLayer = {\r\n        name: `Param group ${found.layers.length + 1}`,\r\n        orderIndex: found.layers.length,\r\n        startIndex: found.objects.length,\r\n        objectCount: 0,\r\n        topology: \"0-0\",\r\n        guid: uuid( ),\r\n      }\r\n      found.layers.push( newLayer )\r\n    },\r\n    UPDATE_DE_STREAM_LAYER( state, { streamId, layer, objects } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      let surpassed = false,\r\n        objectCountDifference = 0\r\n\r\n      found.layers.forEach( iterLayer => {\r\n        if ( surpassed ) {\r\n          iterLayer.startIndex += objectCountDifference\r\n        } else if ( iterLayer.guid === layer.guid ) {\r\n          iterLayer.name = layer.name\r\n          iterLayer.topology = `0-${objects.length}`\r\n          objectCountDifference = objects.length - iterLayer.objectCount\r\n          found.objects.splice( iterLayer.startIndex, iterLayer.objectCount, ...objects )\r\n          iterLayer.objectCount = objects.length\r\n          surpassed = true\r\n        }\r\n      } )\r\n    },\r\n    REMOVE_DE_STREAM_LAYER( state, { streamId, layer } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      // dump objects\r\n      found.objects.splice( layer.startIndex, layer.objectCount )\r\n      // adjust start indexes\r\n      let surpassed = false\r\n      found.layers.forEach( iterLayer => {\r\n        if ( surpassed ) {\r\n          iterLayer.startIndex -= layer.objectCount\r\n          iterLayer.orderIndex -= 1\r\n        } else if ( iterLayer.guid === layer.guid ) surpassed = true\r\n      } )\r\n      // dump layer\r\n      found.layers = found.layers.filter( l => l.guid !== layer.guid )\r\n    },\r\n    APPEND_DE_STREAM_LAYERS_FROM_CSV( state, { streamId, transposed } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      let index = 0\r\n      for ( let arr of transposed ) {\r\n        let newLayer = {\r\n          name: arr[ 0 ] !== '' ? arr[ 0 ] : \"Unnamed\",\r\n          orderIndex: -1, // to be set properly afterwards\r\n          startIndex: index === 0 ? found.objects.length : found.objects.length,\r\n          objectCount: arr.length - 1,\r\n          topology: `0-${arr.length-1}`,\r\n          guid: uuid( ),\r\n        }\r\n        found.layers.push( newLayer )\r\n        let noHeader = arr.slice( 1, arr.length )\r\n        console.log( noHeader )\r\n        found.objects.push( ...noHeader.map( val => {\r\n          if ( !val ) return { type: \"Null\", value: \"\" }\r\n          if ( typeof val === 'boolean' )\r\n            return { type: \"Boolean\", value: val }\r\n          if ( typeof val === 'number' )\r\n            return { type: \"Number\", value: val } // TODO: Hash it please\r\n          if ( typeof val === 'string' )\r\n            return { type: \"String\", value: val } // TODO: Hash it please\r\n        } ) )\r\n        index++\r\n      }\r\n      found.layers.forEach( ( layer, k ) => {\r\n        console.log( k )\r\n        layer.orderIndex = k\r\n      } )\r\n    },\r\n    // Projects\r\n    ADD_PROJECTS( state, projects ) {\r\n      projects.forEach( project => {\r\n        if ( state.projects.findIndex( p => p._id === project._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !project.tags ) project.tags = [ ]\r\n          if ( !project.deleted ) project.deleted = false\r\n          state.projects.unshift( project )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROJECT( state, props ) {\r\n      let found = state.projects.find( p => p._id === props._id )\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_PROJECT( state, props ) {\r\n      let index = state.projects.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.projects.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove project ${props._id} from store.` )\r\n    },\r\n\r\n    // Users\r\n    ADD_USER( state, user ) {\r\n      let found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        state.users.unshift( user )\r\n      else found = user // update the user\r\n    },\r\n    ADD_USERS( state, users ) {\r\n      users.forEach( user => {\r\n        let found = state.users.find( u => u._id === user._id )\r\n        if ( !found )\r\n          state.users.unshift( user )\r\n        else found = user // update the user\r\n      } )\r\n    },\r\n    UPDATE_LUSER( state, user ) {\r\n      let found = null\r\n      if ( user._id === state.user._id ) found = state.user\r\n      else\r\n        found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        return console.error( 'User not found; aborting update.' )\r\n      Object.keys( user ).forEach( key => {\r\n        found[ key ] = user[ key ]\r\n      } )\r\n    },\r\n\r\n    // Generics\r\n    SET_SERVER( state, server ) {\r\n      state.server = server\r\n    },\r\n    SET_SERVER_DETAILS( state, serverManifest ) {\r\n      state.serverManifest = serverManifest\r\n    },\r\n    SET_TOKEN( state, token ) {\r\n      state.token = token\r\n      state.isAuth = true\r\n    },\r\n    SET_USER( state, user ) {\r\n      state.user = user\r\n    },\r\n    SET_WEB_APP_CLIENT( state, client ) {\r\n      state.client = client\r\n    },\r\n\r\n    // End of life\r\n    FLUSH_ALL( state ) {\r\n      state.token = null\r\n      state.user = {}\r\n      state.streams = [ ]\r\n      state.projects = [ ]\r\n      state.clients = [ ]\r\n      state.users = [ ]\r\n      state.comments = [ ]\r\n      state.isAuth = false\r\n    },\r\n\r\n    // Viewer related\r\n    ADD_LOADED_STREAMID( state, streamId ) {\r\n      state.loadedStreamIds = [ ...new Set( [ ...state.loadedStreamIds, streamId ] ) ]\r\n    },\r\n    REMOVE_LOADED_STREAMID( state, streamId ) {\r\n      let index = state.loadedStreamIds.indexOf( streamId )\r\n      if ( index !== -1 )\r\n        state.loadedStreamIds.splice( index, 1 )\r\n      else\r\n        console.warn( `Failed to remove loaded streamid: ${streamId} from ${state.loadedStreamIds}` )\r\n    },\r\n    // OBJECTS\r\n    ADD_OBJECTS( state, objects ) {\r\n      state.objects.push( ...objects )\r\n    },\r\n    UPDATE_OBJECTS_STREAMS( state, { objIds, streamToAdd, streamToRemove } ) {\r\n      objIds.forEach( id => {\r\n        let myObject = state.objects.find( o => o._id === id )\r\n        if ( myObject ) {\r\n          if ( streamToAdd && myObject.streams.indexOf( streamToAdd ) === -1 )\r\n            myObject.streams.push( streamToAdd )\r\n          if ( streamToRemove ) {\r\n            let index = myObject.streams.indexOf( streamToRemove )\r\n            if ( index !== -1 ) myObject.streams.splice( index, 1 )\r\n          }\r\n        }\r\n      } )\r\n    },\r\n    REMOVE_OBJECTS( state, objectIds ) {\r\n      state.objects = state.objects.filter( obj => objectIds.indexOf( obj._id ) === -1 )\r\n    },\r\n    // Selected objects setters\r\n    SET_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      if ( objectIds.length > 0 )\r\n        state.selectedObjects = [ ...new Set( [ ...state.selectedObjects, ...objectIds ] ) ]\r\n      else\r\n        state.selectedObjects = [ ]\r\n    },\r\n    ADD_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      state.selectedObjects = [ ...new Set( [ ...state.selectedObjects, ...objectIds ] ) ]\r\n    },\r\n    REMOVE_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      objectIds.forEach( id => {\r\n        let index = state.selectedObjects.indexOf( id )\r\n        if ( index !== -1 ) state.selectedObjects.splice( index, 1 )\r\n      } )\r\n    },\r\n    SET_LEGEND( state, legend ) {\r\n      state.legend = legend\r\n    },\r\n  },\r\n  actions: {\r\n    // Streams\r\n    getStream( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let found = context.state.streams.find( s => s.streamId === props.streamId )\r\n        if ( found ) return resolve( found )\r\n        Axios.get( `streams/${props.streamId}?omit=objects` )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS', [ res.data.resource ] )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    refreshStream( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `streams/${props.streamId}?omit=objects` )\r\n          .then( res => {\r\n            context.commit( 'UPDATE_STREAM', res.data.resource )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n\r\n    getStreams( context, query ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `streams?${query ? query : '' }` )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    createStream( context, stream ) {\r\n      let streamId = null\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `streams` )\r\n          .then( res => {\r\n            console.log( res )\r\n            stream.streamId = res.data.resource.streamId\r\n            res.data.resource.onlineEditable = true\r\n            context.commit( 'ADD_STREAMS', [ res.data.resource ] )\r\n            return Axios.put( `streams/${res.data.resource.streamId}`, stream )\r\n          } )\r\n          .then( res => {\r\n            console.log( res )\r\n            context.commit( 'UPDATE_STREAM', stream )\r\n            return resolve( stream )\r\n          } )\r\n          .catch( err => {\r\n            console.error( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateStream( context, props ) {\r\n      Axios.put( `streams/${props.streamId}`, props )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_STREAM', props )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n        } )\r\n    },\r\n    // For data-editable streams only\r\n    updateStreamObjectsAndLayers: ( context, { streamId, commitMessage } ) => new Promise( ( resolve, reject ) => {\r\n      let found = context.state.deStreams.find( s => s.streamId === streamId )\r\n      if ( !found ) return reject( new Error( 'Stream not found in store.' ) )\r\n\r\n      found.commitMessage = commitMessage + ` (changed by ${context.state.user.name} ${context.state.user.surname})`\r\n      found.lastChangedBy = context.state.user._id\r\n\r\n      context.commit( 'UPDATE_STREAM', { streamId: streamId, commitMessage: commitMessage } )\r\n\r\n      Axios.post( `streams/${streamId}/clone` )\r\n        .then( res => {\r\n          let originalStream = context.state.streams.find( s => s.streamId === streamId )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, children: [ ...originalStream.children, res.data.clone.streamId ] } )\r\n          return Axios.put( `streams/${streamId}`, found )\r\n        } )\r\n        .then( res => resolve( res ) )\r\n        .catch( err => reject( err ) )\r\n    } ),\r\n    getStreamClients( context, props ) {\r\n      Axios.get( `streams/${props.streamId}/clients` )\r\n        .then( res => {\r\n          context.commit( 'ADD_CLIENTS', res.data.resources )\r\n        } )\r\n        .catch( err => {\r\n          console.log( err )\r\n        } )\r\n    },\r\n    deleteStream( context, payload ) {\r\n      // TODO: https://github.com/speckleworks/SpeckleAdmin/issues/19\r\n      Axios.delete( `streams/${payload.streamId}` )\r\n        .then( res => {\r\n          context.commit( 'DELETE_STREAM', { streamId: payload.streamId } )\r\n        } )\r\n        .catch( err => {\r\n          console.log( err )\r\n        } )\r\n    },\r\n\r\n    // objects\r\n    getStreamObjects( context, streamId ) {\r\n      let found = context.state.streams.find( s => s.streamId === streamId )\r\n      return new Promise( ( resolve, reject ) => {\r\n        context.dispatch( 'getStream', { streamId: streamId } )\r\n          .then( ( ) => {\r\n            return Axios.get( `streams/${streamId}?fields=objects,layers` )\r\n          } )\r\n          .then( res => {\r\n            let ids = res.data.resource.objects.map( o => o._id )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, objects: ids, layers: res.data.resource.layers } )\r\n            resolve( ids )\r\n          } )\r\n          .catch( err => {\r\n            reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    getObjects( context, objectIds ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `objects/getbulk?omit=base64,rawData,canRead,canWrite,children,anonymousComments,name`, objectIds )\r\n          .then( res => {\r\n            // context.state.objects.push( ...res.data.resources )\r\n            // context.commit( 'ADD_OBJECTS', res.data.resources )\r\n            resolve( res.data.resources )\r\n          } )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n\r\n    // projects\r\n    getProject( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `projects/${props._id}` )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', [ res.data.resource ] )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => {\r\n            console.error( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    getProjects( context, query ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `projects?${query ? query : '' }` )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    createProject( context, project ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `projects`, project ? project : { name: 'A new speckle project' } )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', [ res.data.resource ] )\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateProject( context, props ) {\r\n      Axios.put( `projects/${props._id}`, props )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', props )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n        } )\r\n    },\r\n    addUserToProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.put( `projects/${projectId}/adduser/${userId}` )\r\n        .then( res => {\r\n          let permissions = { canWrite: [ ...new Set( [ ...project.permissions.canWrite, userId ] ) ], canRead: project.permissions.canRead }\r\n          let canRead = [ ...new Set( [ ...project.canRead, userId ] ) ]\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, permissions: permissions, canRead: canRead } )\r\n          project.streams.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: uniq( [ ...myStream.canWrite, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    upgradeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.put( `projects/${projectId}/upgradeuser/${userId}` )\r\n        .then( res => {\r\n          return Axios.get( `projects/${projectId}?fields=permissions` )\r\n        } )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', {\r\n            _id: projectId,\r\n            permissions: {\r\n              canRead: res.data.resource.permissions.canRead, //[ ...new Set( [ ...project.canRead, userId ] ) ],\r\n              canWrite: res.data.resource.permissions.canWrite //[ ...new Set( [ ...project.canWrite, userId ] ) ]\r\n            }\r\n          } )\r\n          project.streams.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: uniq( [ ...myStream.canWrite, userId ] ), canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    downgradeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.put( `projects/${projectId}/downgradeuser/${userId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, permissions: res.data.project.permissions } )\r\n          res.data.streamsToAddReadAndPullWrite.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: myStream.canWrite.filter( id => id !== userId ), canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          res.data.streamsToAddToRead.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    removeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.delete( `projects/${projectId}/removeuser/${userId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, canRead: res.data.project.canRead, canWrite: res.data.project.canWrite, permissions: res.data.project.permissions } )\r\n          res.data.streamsToPullBothFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: myStream.canRead.filter( id => id !== userId ), canWrite: myStream.canWrite.filter( id => id !== userId ) } )\r\n          } )\r\n          res.data.streamsToPullWriteFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: myStream.canWrite.filter( id => id !== userId ) } )\r\n          } )\r\n          res.data.streamsToPullReadFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: myStream.canRead.filter( id => id !== userId ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    addStreamToProject: ( context, { projectId, streamId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.put( `projects/${projectId}/addstream/${streamId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, streams: res.data.project.streams } )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: res.data.stream.canRead, canWrite: res.data.stream.canWrite } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    removeStreamFromProject: ( context, { projectId, streamId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.delete( `projects/${projectId}/removestream/${streamId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, streams: res.data.project.streams } )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: res.data.stream.canRead, canWrite: res.data.stream.canWrite } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    deleteProject: ( context, props ) => new Promise( ( resolve, reject ) => {\r\n      Axios.delete( `projects/${props._id}` )\r\n        .then( res => {\r\n          context.commit( 'DELETE_PROJECT', { _id: props._id } )\r\n          for ( let stream of res.data.modifiedStreams ) {\r\n            context.commit( 'UPDATE_STREAM', { streamId: stream.streamId, canRead: stream.canRead, canWrite: stream.canWrite } )\r\n          }\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n\r\n    // client for ws ids, etc.\r\n    createClient: ( context, props ) => new Promise( ( resolve, reject ) => {\r\n\r\n      // NOTE: This is a stupid hack. To get a temp client, we need to be not auhtorised : /\r\n      delete Axios.defaults.headers.common[ 'Authorization' ]\r\n\r\n      Axios.post( `clients`, { role: 'online-client', documentName: 'Online interface', documentType: 'browser', online: true } )\r\n        .then( res => {\r\n          console.log( res )\r\n          context.commit( 'SET_WEB_APP_CLIENT', res.data.resource )\r\n          return resolve( res.data.resource )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n      // set the headers back. man what a stupid hack this is...\r\n      Axios.defaults.headers.common[ 'Authorization' ] = context.state.token\r\n    } ),\r\n\r\n    // users\r\n    getUser( context, payload ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let found = context.state.users.find( u => u._id === payload._id )\r\n        if ( found ) return resolve( found )\r\n        Axios.get( `accounts/${payload._id}` )\r\n          .then( res => {\r\n            if ( context.state.user._id === payload._id ) res.data.resource.surname += ' (that is you!)'\r\n            context.commit( 'ADD_USER', res.data.resource )\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    updateLoggedInUser: ( context, payload ) => new Promise( ( resolve, reject ) => {\r\n      Axios.put( `accounts`, payload )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_LUSER', payload )\r\n          return resolve( res )\r\n        } )\r\n        .catch( err => reject( err ) )\r\n    } ),\r\n\r\n    // Auth\r\n    login( context, payload ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( 'accounts/login', { email: payload.email, password: payload.password } )\r\n          .then( res => {\r\n            context.commit( 'SET_TOKEN', res.data.resource.token )\r\n            context.commit( 'SET_USER', res.data.resource )\r\n            // save them for later\r\n            localStorage.setItem( 'token', res.data.resource.token )\r\n            Axios.defaults.headers.common[ 'Authorization' ] = res.data.resource.token\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    logout( context, payload ) {\r\n      context.commit( 'FLUSH_ALL' )\r\n      localStorage.removeItem( 'token' )\r\n      Axios.defaults.headers.common[ 'Authorization' ] = ''\r\n    }\r\n  },\r\n} )\r\n","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Store from './store'\r\n\r\nVue.use( Router )\r\n\r\nlet myRouter = new Router( {\r\n  linkExactActiveClass: 'is-active',\r\n  routes: [ {\r\n      path: '/',\r\n      name: 'dashboard',\r\n      component: ( ) => import( './views/Dashboard.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/login/:redirectTo?',\r\n      name: 'login',\r\n      component: ( ) => import( './views/Login.vue' )\r\n    },\r\n    {\r\n      path: '/register',\r\n      name: 'register',\r\n      component: ( ) => import( './views/Register.vue' ),\r\n    },\r\n    {\r\n      path: '/streams',\r\n      name: 'streams',\r\n      component: ( ) => import( './views/Streams.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/streams/:streamId',\r\n      component: ( ) => import( './views/Stream.vue' ),\r\n      meta: { requiresAuth: true },\r\n      children: [ {\r\n        name: 'stream overview',\r\n        path: '',\r\n        component: ( ) => import( './views/StreamOverview.vue' )\r\n      }, {\r\n        name: 'stream data',\r\n        path: 'data',\r\n        component: ( ) => import( './views/StreamData.vue' )\r\n      }, {\r\n        name: 'stream sharing',\r\n        path: 'sharing',\r\n        component: ( ) => import( './views/StreamSharing.vue' )\r\n      }, {\r\n        name: 'stream history',\r\n        path: 'history',\r\n        component: ( ) => import( './views/StreamHistory.vue' )\r\n      } ]\r\n    },\r\n    {\r\n      path: '/projects',\r\n      name: 'projects',\r\n      component: ( ) => import( './views/Projects.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/projects/:projectId',\r\n      name: 'project overview',\r\n      component: ( ) => import( './views/Project.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/view/:streamIds*',\r\n      name: 'viewer',\r\n      component: ( ) => import( './views/Viewer.vue' ),\r\n      meta: { requiresAuth: false },\r\n    },\r\n    {\r\n      path: '/trash',\r\n      name: 'trash',\r\n      component: ( ) => import( './views/Trash.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/profile',\r\n      name: 'profile',\r\n      component: ( ) => import( './views/Profile.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/plugins',\r\n      name: 'plugins',\r\n      component: ( ) => import( './views/Plugins.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/feedback',\r\n      name: 'feedback',\r\n      component: ( ) => import( './views/Feedback.vue' ),\r\n      meta: { requiresAuth: true },\r\n    }\r\n  ],\r\n  // scrollBehavior( to, from, savedPosition ) {\r\n  //   console.log( 'scrollBehavior' )\r\n  //   return { x: 0, y: 0 }\r\n  // }\r\n} )\r\n\r\n// myRouter.afterEach( ( to, from ) => {\r\n//   document.getElementById( 'app' ).scrollIntoView( )\r\n// } )\r\n\r\nmyRouter.beforeEach( ( to, from, next ) => {\r\n  if ( to.meta.requiresAuth ) {\r\n    if ( to.meta.requiresAuth === true && Store.state.isAuth === false )\r\n      return next( { path: '/login' + ( to !== null ? \"/\" + window.btoa( to.path ) : \"\" ) } )\r\n  }\r\n  next( )\r\n} )\r\n\r\nexport default myRouter\r\n","/* eslint-disable no-console */\r\n\r\nimport { register } from 'register-service-worker'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready () {\r\n      console.log(\r\n        'App is being served from cache by a service worker.\\n' +\r\n        'For more details, visit https://goo.gl/AFskqB'\r\n      )\r\n    },\r\n    registered () {\r\n      console.log('Service worker has been registered.')\r\n    },\r\n    cached () {\r\n      console.log('Content has been cached for offline use.')\r\n    },\r\n    updatefound () {\r\n      console.log('New content is downloading.')\r\n    },\r\n    updated () {\r\n      console.log('New content is available; please refresh.')\r\n    },\r\n    offline () {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    },\r\n    error (error) {\r\n      console.error('Error during service worker registration:', error)\r\n    }\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{attrs:{\"title\":_vm.hint,\"contenteditable\":!_vm.disabled},domProps:{\"innerHTML\":_vm._s(_vm.getContent())},on:{\"blur\":_vm.updateOnBlur,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateOnEnter($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span :title='hint' :contenteditable='!disabled' @blur='updateOnBlur' @keydown.enter='updateOnEnter' v-html='getContent()'></span>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'EditableSpan',\r\n  props: {\r\n    text: { type: String, default: 'loading...' },\r\n    disabled: { type: Boolean, default: false },\r\n    hint: { type: String, default: 'click and type to edit' },\r\n    dataKey: { type: String, default: '' }\r\n  },\r\n  computed: {},\r\n  data( ) {\r\n    return {\r\n      innerText: null\r\n    }\r\n  },\r\n  methods: {\r\n    getContent( ) {\r\n      if ( this.innerText )\r\n        return this.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" ) !== '' ? this.innerText : this.text\r\n      return this.text\r\n    },\r\n    updateOnBlur( e ) {\r\n      let newContent = e.target.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" )\r\n      console.log( newContent.length )\r\n      if ( newContent === '' )\r\n        return e.target.innerText = this.text\r\n      if ( this.getContent( ) === newContent ) {\r\n        return\r\n      }\r\n      this.innerText = newContent\r\n      this.$emit( 'update', { text: newContent, dataKey: this.dataKey } )\r\n    },\r\n    updateOnEnter( e ) {\r\n      let newContent = e.target.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" )\r\n      if ( newContent === '' )\r\n        return e.target.innerText = this.text\r\n      if ( this.getContent( ) === newContent ) {\r\n        e.target.blur( )\r\n        return\r\n      }\r\n      e.target.blur( )\r\n      this.innerText = newContent\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n$SpeckleBlue: #448aff;\r\n\r\nspan {\r\n  border-bottom: 2px dashed rgba(55, 126, 247, 0.6);\r\n  transition: all .3s ease;\r\n}\r\n\r\nspan:hover {\r\n  cursor: text;\r\n  color: $SpeckleBlue;\r\n  border-bottom: 2px solid $SpeckleBlue;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditableSpan.vue?vue&type=template&id=536ceca2&scoped=true&\"\nimport script from \"./EditableSpan.vue?vue&type=script&lang=js&\"\nexport * from \"./EditableSpan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditableSpan.vue?vue&type=style&index=0&id=536ceca2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"536ceca2\",\n  null\n  \n)\n\ncomponent.options.__file = \"EditableSpan.vue\"\nexport default component.exports","import Vue from 'vue'\r\nimport Axios from 'axios'\r\nimport App from './App.vue'\r\nimport Router from './router'\r\nimport Store from './store'\r\nimport './registerServiceWorker'\r\n\r\nVue.config.productionTip = false\r\n\r\nimport Vuetify from 'vuetify'\r\nimport 'vuetify/dist/vuetify.min.css'\r\nimport colors from 'vuetify/es5/util/colors'\r\n\r\nVue.use( Vuetify, {\r\n  theme: {\r\n    primary: colors.blue.darken1, // #E53935\r\n    secondary: colors.blue.lighten4, // #FFCDD2\r\n    accent: colors.indigo.base // #3F51B5\r\n  }\r\n} )\r\n\r\nimport VueTimeago from 'vue-timeago'\r\nVue.use( VueTimeago, { locale: 'en' } )\r\n\r\n// Set up the server route.\r\nlet server = localStorage.getItem( 'server' )\r\nif ( server )\r\n  Store.state.server = server\r\nelse\r\n Store.state.server = `${window.location.origin}/api`\r\n\r\n\r\n// set default server\r\nAxios.defaults.baseURL = Store.state.server\r\n\r\n// Get the token, if any is present.\r\nlet token = localStorage.getItem( 'token' )\r\n\r\n// Start the init flow\r\nAxios.get( Store.state.server )\r\n  .then( response => {\r\n    Store.state.serverManifest = response.data\r\n    return Axios.get( `${Store.state.server}/accounts?omit=logins`, { headers: { Authorization: token } } )\r\n  } )\r\n  .then( response => {\r\n    // means we're logged out\r\n    if ( response === null ) {\r\n      // TODO\r\n      initApp( )\r\n      return\r\n    }\r\n    // needs to log in\r\n    if ( response.status !== 200 ) {\r\n      // TODO\r\n      initApp( )\r\n      return\r\n    }\r\n    // set defaults in axios, if we got this far things should be fine\r\n    Axios.defaults.headers.common[ 'Authorization' ] = token\r\n    // update the store\r\n    Store.state.isAuth = true\r\n    Store.state.user = response.data.resource\r\n    Store.state.token = token\r\n\r\n    initApp( )\r\n  } )\r\n  .catch( err => {\r\n    initApp( )\r\n  } )\r\n\r\n// set axios as default $http request lib\r\nVue.prototype.$http = Axios\r\n\r\n// event bus used for triggerring events cross-hirearchy\r\nwindow.bus = new Vue( )\r\n\r\n// get hex color from string global mixin\r\nimport CH from 'color-hash'\r\nlet ColorHasher = new CH( )\r\nVue.mixin( {\r\n  methods: {\r\n    getHexFromString: str => ColorHasher.hex( str )\r\n  }\r\n} )\r\n\r\nimport EditableSpan from './components/EditableSpan.vue'\r\nVue.component( 'editable-span', EditableSpan )\r\n\r\n// The init logic (it's called after we do some auth flows)\r\nlet initApp = ( ) => {\r\n  new Vue( {\r\n    router: Router,\r\n    store: Store,\r\n    render: h => h( App )\r\n  } ).$mount( '#app' )\r\n}\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}